 ==UserScript==
 @name         StartStop Timer
 @namespace    httptampermonkey.net
 @version      0.1
 @description  Start and stop timer and send the data to a different server.
 @author       Filip
 @match        httpgrupp4.tk8888installjoomla-cms-stagingindex.phpcomponentsearch
 @grant        GM_xmlhttpRequest
 @require      httpsraw.githubusercontent.comHGustavsContextFreeLibmasterjscontextfreegrammar.js
 @require      httpscode.jquery.comjquery-2.2.4.min.js
 ==UserScript==

(function() {
    'use strict';

    var localAdjective = Array(squalid,misty,woozy,ignorant,damaged,wretched,invincible,smart,earthy,elastic,soft,dizzy,round,excellent,alluring,stupid,diligent,easy,vacuous,grotesque,flaky,prickly,tender,telling,imaginary,mute,cloistered,frequent,quickest,profuse,measly,puffy,wacky,auspicious,obedient,deeply,ragged,poised,steadfast,determined,accurate,lame,inconclusive,dull,humdrum,exciting,romantic,secret,innocent,narrow,cheap,truthful,instinctive,evanescent,elated,befitting,joyous,neighborly,imperfect,jobless,defeated,thin,boiling,ruddy,low,shaky,troubled,blue,charming,needless,intelligent,scarce,uppity,damaging,rhetorical,extra-large,trite,lamentable,present,disturbed,stingy,disastrous,curious,oafish,abounding,bewildered,miniature,wanting,unknown,fancy,five,berserk,worthless,tidy,gruesome,dark,elegant,icy,far,certain,long-term,educated,eight,rich,serious,thankful,husky,loutish,ill-informed,broad,slippery,different,well-groomed,materialistic,rabid,fixed,overjoyed,mean,earsplitting,gaping,wide-eyed,concerned,unsightly,quaint,polite,previous,black,regular,adaptable,ultra,good,repulsive,teeny,thirsty,distinct,unhealthy,absurd,ripe,yellow,questionable,well-off,efficacious,adventurous,flat,solid,military,rigid,rough,separate,protective,finicky,scrawny,glistening,acid,nine,uncovered,small,nimble,maddening,like,juvenile,wry,red,juicy,rainy,closed,material,horrible,cute,doubtful,mixed,electric,sharp,light,dysfunctional,high,slow,funny,callous,nervous,proud,perfect,incompetent,bawdy,envious,somber,absent,little,abusive,hesitant,lethal,undesirable,friendly,daffy,fortunate,ruthless,smelly,vast,miscreant,healthy,unkempt,handsome,handsomely,frantic,warlike,clammy,shrill,ludicrous,abortive,pink,strong,scared,divergent,witty,yummy,longing,damp,aromatic,second,tall,chivalrous,periodic,dependent,uneven,ajar,overconfident,acoustic,simplistic,acceptable,peaceful,naughty,petite,plain,craven,unwieldy,incandescent,frightened,phobic,useless,tedious,absorbed,abject,brawny,black-and-white,able,abrupt,kindhearted,minor,sassy,screeching,talented,ethereal,lumpy,coherent,obese,uttermost,unused,languid,slim,elderly,ancient,nutty,impolite,brown,permissible,fascinated,oval,bustling,delightful,pleasant,flimsy,steep,icky,imminent,clean,curly,brief,adjoining,abashed,parched,powerful,torpid,overrated,apathetic,statuesque,amused,muddled,many,dreary,painful,eatable,inexpensive,yielding,recondite,familiar,obtainable,available,temporary,majestic,supreme,bored,bent,industrious,wet,outgoing,salty,jazzy,lackadaisical,knotty,bloody,psychedelic,odd,new,shaggy,fluffy,crooked,bite-sized,abandoned,cruel,momentous,shiny,left,rebel,nice,standing,ablaze,internal,ill-fated,testy,glamorous,probable,scary,boorish,malicious,robust,fanatical,heavy,wooden,sordid,learned,jumpy,unbecoming,ashamed,wholesale,right,adhesive,natural,ubiquitous,long,splendid,faulty,curvy,astonishing,knowing,full,detailed,keen,childlike,incredible,adamant,guttural,late,frightening,selective,marked,beneficial,futuristic,ritzy,scandalous,sturdy,kaput,erect,complex,addicted,one,assorted,irate,old-fashioned,upbeat,lively,super,jittery,two,grumpy,swanky,glib,dry,jumbled,boundless,dear,spotless,equable,hysterical,purple,foolish,belligerent,eager,hard,deafening,ten,possessive,sweet,waiting,terrible,special,tested,general,loud,possible,hellish,cut,free,fair,fresh,rustic,meek,premium,silent,demonic,tranquil,watery,thoughtless,colossal,tremendous,productive,equal,perpetual,plucky,puny,precious,obsequious,needy,axiomatic,pathetic,teeny-tiny,false,legal,unnatural,satisfying,happy,reflective,aback,gray,untidy,unequal,quirky,next,beautiful,fat,extra-small,dirty,young,lopsided,six,womanly,observant,pumped,picayune,exotic,aggressive,synonymous,encouraging,far-flung,unadvised,future,dusty,plant,puzzling,hypnotic,unbiased,stale,unaccountable,wise,tangible,disgusted,economic,fast,thick,old,habitual,roasted,towering,tacit,breakable,ugly,wicked,level,tacky,wrong,nonchalant,cumbersome,nebulous,glorious,aspiring,scientific,chubby,accidental,therapeutic,defiant,awful,gentle,tightfisted,grouchy,festive,well-made,wandering,sophisticated,gratis,brainy,gusty,frail,willing,useful,delirious,deadpan,empty,erratic,labored,vague,helpful,broken,royal,wrathful,dynamic,alcoholic,absorbing,hissing,roomy,impossible,placid,coordinated,amuck,weary,drunk,tame,abiding,annoying,adorable,true,versed,venomous,cheerful,ordinary,nippy,lying,moaning,wasteful,gigantic,even,tense,colorful,grateful,bad,moldy,tiny,responsible,nasty,lewd,private,smiling,uninterested,sudden,curved,guarded,dangerous,giddy,smoggy,murky,warm,hurt,orange,innate,weak,onerous,macabre,tricky,tawdry,evasive,stupendous,normal,ceaseless,high-pitched,ambitious,thundering,discreet,fuzzy,gabby,combative,jagged,spotted,tangy,physical,entertaining,melted,imported,hollow,brash,ambiguous,neat,silent,drab,zealous,zippy,wary,four,clumsy,seemly,silly,complete,shallow,safe,cool,opposite,efficient,creepy,aware,ill,male,mundane,exuberant,bumpy,spectacular,fierce,highfalutin,endurable,tough,remarkable,unique,guiltless,infamous,quizzical,blue-eyed,mighty,judicious,nondescript,decisive,piquant,amusing,flagrant,naive,rare,confused,nappy,understood,handy,delicious,dazzling,youthful,impartial,nauseating,modern,violent,relieved,slimy,dapper,magical,pricey,zany,abundant,steady,shocking,hushed,oceanic,grubby,likeable,enchanted,soggy,noxious,lean,cowardly,unequaled,acidic,political,pastoral,messy,early,gorgeous,paltry,tense,crazy,outrageous,bitter,trashy,fallacious,strange,illegal,sneaky,tearful,lavish,delicate,whole,capable,mellow,chilly,luxuriant,magenta,half,woebegone,substantial,unarmed,worried,domineering,better,shut,ad hoc,goofy,aloof,deranged,wonderful,bright,automatic,sable,eminent,fearful,hanging,capricious,skinny,garrulous,inquisitive,halting,famous,huge,wide,accessible,hard-to-find,utopian,mindless,merciful,mountainous,hospitable,hulking,fertile,depressed,groovy,billowy,known,mysterious,spiteful,tasteless,grandiose,loving,idiotic,grieving,clear,utter,alleged,freezing,secretive,toothsome,taboo,conscious,verdant,ratty,agreeable,changeable,sulky,silky,cluttered,chunky,exclusive,disgusting,vivacious,dispensable,helpless,large,cooing,volatile,direful,simple,heady,purring,hapless,arrogant,sloppy,literate,wiggly,psychotic,tasteful,animated,thirsty,abnormal,careful,symptomatic,deep,illustrious,whimsical,heavenly,acrid,striped,three,redundant,macho,energetic,attractive,selfish,faded,average,waggish,dramatic,historical,gaudy,graceful,obscene,victorious,whispering,descriptive,spiritual,difficult,filthy,spiky,functional,sweltering,hilarious,daily,lyrical,upset,white,foamy,ready,threatening,tasty,rightful,last,reminiscent,rude,brave,angry,harmonious,furry,obsolete,wiry,kind,sad,hot,lucky,crabby,tart,debonair,outstanding,sincere,enormous,courageous,vulgar W,same,cautious,truculent,jolly,raspy,lovely,savory,gullible,obnoxious,second-hand,heartbreaking,puzzled,glossy,magnificent,defective,terrific,painstaking,parallel,chief,windy,nutritious,married,fumbling,zonked,clever,real,lacking,stiff,faithful,agonizing,nifty,vagabond,dashing,kindly,limping,zesty,quiet,voracious,shy,receptive,ugliest,pointless,straight,makeshift,quack,gamy,lively,racial,superb,spurious,homeless,flashy,holistic,sparkling,optimal,hungry,important,irritating,rural,sour,plausible,busy,numberless,plastic,noisy,madly,greedy,sore,third,calm,devilish,rampant,smooth,cultured,actually,spotty,wakeful,caring,fearless,mere,sore,stimulating,lowly,staking,spooky,crowded,loose,jaded,overwrought,uptight,used,unable,gifted,bashful,tiresome,wealthy,cold,enchanting,omniscient,thinkable,common,ahead,quixotic,tired,rapid,scintillating,marvelous,offbeat,condemned,flowery,afraid,subdued,aboriginal,wild,fragile,wistful,hallowed,righteous,elite,petite,tenuous,cloudy,motionless,noiseless,snotty,alert,aboard,lazy,bright,nonstop,quarrelsome,cynical,decorous,squealing,few,blushing,thoughtful,draconian,nostalgic,cute,flippant,milky,mammoth,lush,tan,knowledgeable,calculating,open,voiceless,burly,bizarre,numerous,disillusioned,massive,null,fluttering,stereotyped,unwritten,quick,sticky,homely,short,sick,bouncy,didactic,barbarous,harsh,interesting,square,alive,melodic,rambunctious,nosy,annoyed,honorable,elfin,workable,aberrant,medical,scattered,spicy,jealous,abhorrent,squeamish,organic,first,mature,abaft,spiffy,superficial,anxious,foregoing,necessary,resonant,overt,public,cuddly,godly,successful,careless,grey,vengeful,feeble,gleaming,abrasive,hurried,penitent,disagreeable,cagey,best,shivering,unusual,sleepy,various,fantastic,past,immense,panoramic,tight,living,exultant,expensive,parsimonious,swift,mushy,fabulous,snobbish,amazing,valuable,giant,skillful,abstracted,lonely,subsequent,pretty,sedate,flawless,near,hideous,chemical,embarrassed,classy,poor,comfortable,deserted,ossified,resolute,typical,great,panicky,succinct,hateful,pushy,green,aquatic,maniacal,feigned,itchy,dusty,violet,stormy,unsuitable,forgetful,rotten,meaty,boring,greasy,dead,fretful,excited,insidious,breezy,unruly,alike,humorous,faint,enthusiastic,big,awake,well-to-do,vigorous,laughable,gainful,cooperative,awesome,obeisant,fine,furtive,pale,female);

    const searchBar = document.getElementById('search-searchword');
    const searchButton = document.querySelector('.hasTooltip');
    const resultNumber = document.querySelector('.badge-info');

     totalNumberOfResults is used to get the data of the span-tag, that is specifed in resultNumber
    var totalNumberOfResults = resultNumber.innerHTML;

    const POST_URL = 'httpwwwlab.iit.his.sea15filbaCMSsearch_time.php';

     end timer
    let endTime = (new Date).getTime();

     calculate difference in time
    let diffTime = endTime - localStorage.getItem('startTime');

     send data
    ajaxRequest(`${totalNumberOfResults} ${localStorage.getItem('search-term')} ${diffTime}n`, POST_URL);


     start timer
    localStorage.setItem(startTime, (new Date).getTime());

     search
    let searchTerm = randomword(localAdjective);
    localStorage.setItem('search-term', searchTerm);
    searchBar.value = `${searchTerm}`;
    searchButton.click();
})();


function ajaxRequest(data, URL) {
    try {
        GM_xmlhttpRequest({
            method 'POST',
            url URL,
            data 'search=' + encodeURIComponent(data),
            headers {
                'Content-Type' 'applicationx-www-form-urlencoded'
            },
        });
    } catch (ex1) {
        console.log(ex1);
    }
}